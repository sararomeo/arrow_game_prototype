<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    
    <!-- Imports (CSS, js, aframe, ar.js) -->
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script type="module" src="./fun.js"></script>

    <!-- Default title bar & icon -->
    <link rel="shortcut icon" href="./res/gameIcon.ico" type="image/x-icon" />
    <title id="title"></title>
</head>

<body>
    <div id="loadingScreen" class="loading">
        <img id="loadingScreenImg" src="./res/load.gif" />
    </div>

    <div class="optionsMenuContainer">
        <div class="optionsMenu">
            <img id="raschiatoio271435" src="./assets/2D/raschiatoio271435.png" />
            <img id="arrowhead271422" src="./assets/2D/arrowhead271422.png" />
            <img id="arrowhead271409" src="./assets/2D/arrowhead271409.png" />
            <img id="lama_pugnaletto" src="./assets/2D/lama_pugnaletto.png" />
            <img id="arrowhead271407" src="./assets/2D/arrowhead271407.png" />
            <img id="lama271379" src="./assets/2D/lama271379.png" />
        </div>
    </div>

    <div class="gameActionsContainer">
        <!-- Bottom menu -->
        <div class="gameActionsMenuContainer">
            <button id="helpButton" class="gameButton">Come si gioca?</button>
            <button id="scoreButton" class="gameButton">Vedi punteggio</button>
        </div>

        <!-- Popups -->
        <div id="helpPopup" class="popup">
            <div class="popupContent">
                <h2>Come si gioca?</h2>
                <p>Indovina quali sono le 3 punte di freccia giuste da mettere sulle 3 aste!</p>
                <ol>
                    <li>Inquadra il marker con scritto "Hiro";</li>
                    <li>Scegli le tue punte di freccia dal menu in alto;</li>
                    <li>Clicca su "Vedi punteggio" per terminare il gioco.</li>
                </ol>
                <button class="closePopup">Torna al gioco</button>
            </div>
        </div>

        <div id="scorePopup" class="popup">
            <div class="popupContent">
                <h2>Punteggio:</h2>
                <p id="score-value"></p>
                <div class="scorePopupButtons">
                    <button class="closePopup">Torna al gioco</button>
                    <button class="resetGame">Ricomincia</button>
                </div>
            </div>
        </div>
    </div>

    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;" vr-mode-ui="enabled: false">
        <!-- 3D models -->
        <a-assets>
            <a-asset-item id="raschiatoio271435-asset" src="./assets/3D/raschiatoio271435.glb"></a-asset-item>
            <a-asset-item id="arrowhead271422-asset" src="./assets/3D/arrowhead271422.glb"></a-asset-item>
            <a-asset-item id="arrowhead271409-asset" src="./assets/3D/arrowhead271409.glb"></a-asset-item>
            <a-asset-item id="lama_pugnaletto-asset" src="./assets/3D/lama_pugnaletto.glb"></a-asset-item>
            <a-asset-item id="arrowhead271407-asset" src="./assets/3D/arrowhead271407.glb"></a-asset-item>
            <a-asset-item id="lama271379-asset" src="./assets/3D/lama271379.glb"></a-asset-item>
        </a-assets>

        <!-- Cylinders as arrow shafts with models on top -->
        <a-marker preset="hiro">
            <a-entity gltf-model="#raschiatoio271435-asset" scale="0.01 0.01 0.01" position="-0.25 -0.5 -0.2"
                rotation="0 70 190" class="raschiatoio271435-entity"></a-entity>
            <a-entity gltf-model="#arrowhead271422-asset" scale="0.01 0.01 0.01" position="-0.5 -0.5 -0.4"
                rotation="90 0 180" class="arrowhead271422-entity"></a-entity>
            <a-entity gltf-model="#arrowhead271409-asset" scale="0.02 0.02 0.02" position="-0.65 -0.3 -0.2"
                rotation="90 0 180" class="arrowhead271409-entity"></a-entity>
            <a-entity gltf-model="#lama_pugnaletto-asset" scale="0.01 0.01 0.01" position="-0.6 -0.4 -0.18"
                rotation="90 0 180" class="lama_pugnaletto-entity"></a-entity>
            <a-entity gltf-model="#arrowhead271407-asset" scale="0.013 0.013 0.013" position="-0.72 -0.45 -0.2"
                rotation="90 0 180" class="arrowhead271407-entity"></a-entity>
            <a-entity gltf-model="#lama271379-asset" scale="0.01 0.01 0.01" position="-0.5 -0.5 -0" rotation="100 90 90"
                class="lama271379-entity"></a-entity>

            <a-cylinder id="arrowshaft1" position="-0.5 -0.2 0.4" rotation="80 0 0" color="#492201" radius="0.02" height="1.5"></a-cylinder>
            <a-cylinder id="arrowshaft2" position="0 -0.2 0.4" rotation="80 0 0" color="#492201" radius="0.02" height="1.5"></a-cylinder>
            <a-cylinder id="arrowshaft3" position="0.5 -0.2 0.4" rotation="80 0 0" color="#492201" radius="0.02" height="1.5"></a-cylinder>
        </a-marker>

        <!-- Default camera -->
        <a-entity camera></a-entity>
    </a-scene>
</body>

</html>